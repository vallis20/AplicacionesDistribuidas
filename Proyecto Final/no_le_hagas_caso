# Realiza una consulta en una tabla (reemplaza 'NombreDeTuTabla' con el nombre real de tu tabla)
resultados = mi_bd.query_table('Streaming')

# Abre un archivo HTML en modo escritura
with open('resultados_consulta.html', 'w') as archivo_html:
    # Escribe la estructura básica del HTML y el encabezado
    archivo_html.write('<!DOCTYPE html><html><head><title>Resultados de la consulta</title>')
    archivo_html.write('<style>')
    # Agrega estilos CSS con colores más vibrantes
    archivo_html.write('body { font-family: Arial, sans-serif; background-color: #f7f7f7; margin: 0; padding: 20px; }')
    archivo_html.write('h1 { color: #333; }')
    archivo_html.write('ul { list-style-type: none; padding: 0; }')
    archivo_html.write('li { margin-bottom: 15px; background-color: #fff; padding: 15px; border-radius: 8px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); }')
    archivo_html.write('p { font-style: italic; color: #777; }')
    archivo_html.write('h1, p { text-align: center; }')
    archivo_html.write('li:hover { transform: translateY(-3px); box-shadow: 0 6px 12px rgba(0,0,0,0.1); }')
    archivo_html.write('input[type="text"] { padding: 10px; border: none; border-radius: 25px; background-color: #eee; outline: none; width: 300px; transition: 0.3s; }')
    archivo_html.write('input[type="text"]:focus { width: 350px; }')  # Anima el ancho del campo al enfocarse
    archivo_html.write('</style>')
    archivo_html.write('<script>')
    # Agrega un script JavaScript para la funcionalidad de búsqueda
    archivo_html.write('function buscar() {')
    archivo_html.write('  var input, filtro, ul, li, textoValor;')
    archivo_html.write('  input = document.getElementById("busqueda");')
    archivo_html.write('  filtro = input.value.toUpperCase();')
    archivo_html.write('  ul = document.getElementsByTagName("ul")[0];')
    archivo_html.write('  li = ul.getElementsByTagName("li");')
    archivo_html.write('  for (var i = 0; i < li.length; i++) {')
    archivo_html.write('    textoValor = li[i].textContent || li[i].innerText;')
    archivo_html.write('    if (textoValor.toUpperCase().indexOf(filtro) > -1) {')
    archivo_html.write('      li[i].style.display = "";')
    archivo_html.write('    } else {')
    archivo_html.write('      li[i].style.display = "none";')
    archivo_html.write('    }')
    archivo_html.write('  }')
    archivo_html.write('}')
    archivo_html.write('</script></head><body>')
    
    # Escribe el contenido del HTML con estilos
    archivo_html.write('<h1>Resultados de la consulta:</h1>')
    archivo_html.write('<div style="text-align: center;">')
    archivo_html.write('<input type="text" id="busqueda" onkeyup="buscar()" placeholder="Buscar por resultado...">')
    archivo_html.write('</div>')
    if resultados != 0:
        archivo_html.write('<ul>')
        for resultado in resultados:
            archivo_html.write(f'<li>{resultado}</li>')
        archivo_html.write('</ul>')
    else:
        archivo_html.write('<p>No hay resultados</p>')
    
    # Cierra la estructura del HTML
    archivo_html.write('</body></html>')
